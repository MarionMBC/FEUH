{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\MELCHISEDEC\\\\Desktop\\\\FEUH\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\MELCHISEDEC\\\\Desktop\\\\FEUH\",\"filename\":\"C:\\\\Users\\\\MELCHISEDEC\\\\Desktop\\\\FEUH\\\\src\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\MELCHISEDEC\\\\Desktop\\\\FEUH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _socket = require(\"socket.io\");\n\nvar _http = _interopRequireDefault(require(\"http\"));\n\nvar _uuid = require(\"uuid\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n//Imports\n//Se le coloca un alias para no confundirlo con el módulo Express\n//Constantes\nvar app = (0, _express[\"default\"])();\n\nvar httpServer = _http[\"default\"].createServer(app); //Lo instanciamos y no le pasamos el server app, se llama el módulo http de node\n//pero express nos devuelve un object aplication, no un módulo http.\n\n\nvar io = new _socket.Server(httpServer); //Se le pasa al webSocket para crear una conexión io.\n//Variables\n\nvar like = 0;\nvar unLike = 0;\nvar abs = 0;\nvar auth = []; //Método static para dar la carpeta public al cliente\n\napp.use(_express[\"default\"][\"static\"](__dirname + '/public'));\napp.use('/abc', _express[\"default\"][\"static\"](__dirname + '/admin')); //Variables\n\nvar online = 0; //funciones\n\nfunction restart() {\n  auth = [];\n  like = 0;\n  unLike = 0;\n  abs = 0;\n  online = 0;\n}\n\nfunction sendData() {\n  io.emit('server:like', like);\n  io.emit('server:unLike', unLike);\n  io.emit('server:abs', abs);\n} //Para ejecutarlo:\n\n\nio.on('connection', function (socket) {\n  /*Almacenamiento del LocalStorage e ID*/\n  socket.on('client:reqLocalS', function () {\n    var id = (0, _uuid.v4)();\n    io.emit('server:resLocalS', id);\n    online++;\n    io.emit('online', online);\n    auth.push(id);\n    console.log(auth);\n  }); //Muestra la cantidad de miembros activos\n\n  io.emit('online', online); //Formular pregunta\n\n  socket.on('client:question', function (question) {\n    io.emit('server:question', question);\n  }); //Listener de usuarios que están de acuerdo\n\n  socket.on('client:like', function (id) {\n    if (auth.includes(id)) {\n      like++;\n      io.emit('server:like', like);\n\n      for (var i = 0; i < auth.length; i++) {\n        if (id === auth[i]) {\n          auth.splice(i, 1);\n        }\n      }\n    } else {\n      io.emit('error', id);\n    }\n  }); //Listener de usuarios que no están de acuerdo\n\n  socket.on('client:unLike', function (id) {\n    if (auth.includes(id)) {\n      unLike++;\n      io.emit('server:unLike', unLike);\n\n      for (var i = 0; i < auth.length; i++) {\n        if (id === auth[i]) {\n          auth.splice(i, 1);\n        }\n      }\n    } else {\n      io.emit('error', id);\n    }\n  }); //Listener de usuarios que se abstienen\n\n  socket.on('client:abs', function (id) {\n    if (auth.includes(id)) {\n      abs++;\n      io.emit('server:abs', abs);\n\n      for (var i = 0; i < auth.length; i++) {\n        if (id === auth[i]) {\n          auth.splice(i, 1);\n        }\n      }\n    } else {\n      io.emit('error', id);\n    }\n  });\n  socket.on('client:closeVotation', function () {\n    /*auth = [];\r\n    like = 0;\r\n    unLike = 0;\r\n    abs =0;*/\n    online = 0;\n    restart();\n    sendData();\n    io.emit('online', online);\n    io.emit('server:votationClosed');\n    socket.disconnect();\n  }); //Para los contadores de votos\n\n  sendData();\n  /* io.emit('server:like', like);\r\n   io.emit('server:unLike', unLike);\r\n   io.emit('server:abs', abs);*/\n}); //Ya no se servirá el contenido con app porque ese es solo para express.\n\n/*app.listen (8000, ()=> console.log (`Server is runnning on port`, 8000))*/\n\nhttpServer.listen(8000, function () {\n  return console.log(\"Server is running on port:\", 8000);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHAiLCJleHByZXNzIiwiaHR0cFNlcnZlciIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJpbyIsIldlYlNvY2tldFNlcnZlciIsImxpa2UiLCJ1bkxpa2UiLCJhYnMiLCJhdXRoIiwidXNlIiwiX19kaXJuYW1lIiwib25saW5lIiwicmVzdGFydCIsInNlbmREYXRhIiwiZW1pdCIsIm9uIiwic29ja2V0IiwiaWQiLCJ1dWlkIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJxdWVzdGlvbiIsImluY2x1ZGVzIiwiaSIsImxlbmd0aCIsInNwbGljZSIsImRpc2Nvbm5lY3QiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcTUVMQ0hJU0VERUNcXERlc2t0b3BcXEZFVUhcXHNyY1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL0ltcG9ydHNcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7U2VydmVyIGFzIFdlYlNvY2tldFNlcnZlcn0gZnJvbSAnc29ja2V0LmlvJzsgLy9TZSBsZSBjb2xvY2EgdW4gYWxpYXMgcGFyYSBubyBjb25mdW5kaXJsbyBjb24gZWwgbcOzZHVsbyBFeHByZXNzXHJcbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xyXG5pbXBvcnQge3Y0IGFzIHV1aWR9IGZyb20gJ3V1aWQnO1xyXG5cclxuLy9Db25zdGFudGVzXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuY29uc3QgaHR0cFNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcCk7IC8vTG8gaW5zdGFuY2lhbW9zIHkgbm8gbGUgcGFzYW1vcyBlbCBzZXJ2ZXIgYXBwLCBzZSBsbGFtYSBlbCBtw7NkdWxvIGh0dHAgZGUgbm9kZVxyXG4vL3Blcm8gZXhwcmVzcyBub3MgZGV2dWVsdmUgdW4gb2JqZWN0IGFwbGljYXRpb24sIG5vIHVuIG3Ds2R1bG8gaHR0cC5cclxuY29uc3QgaW8gPSBuZXcgV2ViU29ja2V0U2VydmVyKGh0dHBTZXJ2ZXIpOyAvL1NlIGxlIHBhc2EgYWwgd2ViU29ja2V0IHBhcmEgY3JlYXIgdW5hIGNvbmV4acOzbiBpby5cclxuXHJcbi8vVmFyaWFibGVzXHJcbnZhciBsaWtlID0gMDtcclxudmFyIHVuTGlrZSA9IDA7XHJcbnZhciBhYnMgPSAwO1xyXG52YXIgYXV0aCA9IFtdXHJcblxyXG4vL03DqXRvZG8gc3RhdGljIHBhcmEgZGFyIGxhIGNhcnBldGEgcHVibGljIGFsIGNsaWVudGVcclxuYXBwLnVzZSAoZXhwcmVzcy5zdGF0aWMoX19kaXJuYW1lICsgJy9wdWJsaWMnKSk7XHJcbmFwcC51c2UgKCcvYWJjJywgZXhwcmVzcy5zdGF0aWMoX19kaXJuYW1lICsgJy9hZG1pbicpKTtcclxuXHJcbi8vVmFyaWFibGVzXHJcbnZhciBvbmxpbmUgPSAwO1xyXG5cclxuLy9mdW5jaW9uZXNcclxuZnVuY3Rpb24gcmVzdGFydCAoKSB7XHJcbiAgICBhdXRoID0gW107XHJcbiAgICBsaWtlID0gMDtcclxuICAgIHVuTGlrZSA9IDA7XHJcbiAgICBhYnMgPTA7XHJcbiAgICBvbmxpbmUgPSAwO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZW5kRGF0YSAoKSB7XHJcbiAgICBpby5lbWl0KCdzZXJ2ZXI6bGlrZScsIGxpa2UpO1xyXG4gICAgaW8uZW1pdCgnc2VydmVyOnVuTGlrZScsIHVuTGlrZSk7XHJcbiAgICBpby5lbWl0KCdzZXJ2ZXI6YWJzJywgYWJzKTtcclxufVxyXG5cclxuLy9QYXJhIGVqZWN1dGFybG86XHJcbmlvLm9uKCdjb25uZWN0aW9uJywgKHNvY2tldCkgPT4ge1xyXG4gICAgLypBbG1hY2VuYW1pZW50byBkZWwgTG9jYWxTdG9yYWdlIGUgSUQqL1xyXG4gICAgc29ja2V0Lm9uKCdjbGllbnQ6cmVxTG9jYWxTJywgKCkgPT4ge1xyXG4gICAgICAgIGxldCBpZCA9IHV1aWQoKTtcclxuICAgICAgICBpby5lbWl0KCdzZXJ2ZXI6cmVzTG9jYWxTJywgaWQpXHJcbiAgICAgICAgb25saW5lKys7XHJcbiAgICAgICAgaW8uZW1pdCgnb25saW5lJywgb25saW5lKVxyXG4gICAgICAgIGF1dGgucHVzaChpZCk7XHJcbiAgICAgICAgY29uc29sZS5sb2cgKGF1dGgpXHJcbiAgICB9KVxyXG5cclxuICAgIC8vTXVlc3RyYSBsYSBjYW50aWRhZCBkZSBtaWVtYnJvcyBhY3Rpdm9zXHJcbiAgICBpby5lbWl0KCdvbmxpbmUnLCBvbmxpbmUpXHJcblxyXG4gICAgLy9Gb3JtdWxhciBwcmVndW50YVxyXG4gICAgc29ja2V0Lm9uKCdjbGllbnQ6cXVlc3Rpb24nLCAocXVlc3Rpb24pPT4ge1xyXG4gICAgICAgIGlvLmVtaXQoJ3NlcnZlcjpxdWVzdGlvbicsIHF1ZXN0aW9uKVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy9MaXN0ZW5lciBkZSB1c3VhcmlvcyBxdWUgZXN0w6FuIGRlIGFjdWVyZG9cclxuICAgIHNvY2tldC5vbiAoJ2NsaWVudDpsaWtlJywgKGlkKSA9PiB7XHJcbiAgICAgICAgaWYgKGF1dGguaW5jbHVkZXMoaWQpKSB7XHJcbiAgICAgICAgICAgIGxpa2UrK1xyXG4gICAgICAgICAgICBpby5lbWl0KCdzZXJ2ZXI6bGlrZScsIGxpa2UpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaTxhdXRoLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGlmIChpZCA9PT0gYXV0aFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dGguc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW8uZW1pdCgnZXJyb3InLCBpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8vTGlzdGVuZXIgZGUgdXN1YXJpb3MgcXVlIG5vIGVzdMOhbiBkZSBhY3VlcmRvXHJcbiAgICBzb2NrZXQub24gKCdjbGllbnQ6dW5MaWtlJywgKGlkKSA9PiB7XHJcbiAgICAgICAgaWYgKGF1dGguaW5jbHVkZXMoaWQpKSB7XHJcbiAgICAgICAgICAgIHVuTGlrZSsrO1xyXG4gICAgICAgICAgICBpby5lbWl0KCdzZXJ2ZXI6dW5MaWtlJywgdW5MaWtlKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGk8YXV0aC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWQgPT09IGF1dGhbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRoLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlvLmVtaXQoJ2Vycm9yJywgaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy9MaXN0ZW5lciBkZSB1c3VhcmlvcyBxdWUgc2UgYWJzdGllbmVuXHJcbiAgICBzb2NrZXQub24gKCdjbGllbnQ6YWJzJywgKGlkKSA9PiB7XHJcbiAgICAgICAgaWYgKGF1dGguaW5jbHVkZXMoaWQpKSB7XHJcbiAgICAgICAgICAgIGFicysrO1xyXG4gICAgICAgICAgICBpby5lbWl0KCdzZXJ2ZXI6YWJzJywgYWJzKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGk8YXV0aC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWQgPT09IGF1dGhbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRoLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlvLmVtaXQoJ2Vycm9yJywgaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgc29ja2V0Lm9uICgnY2xpZW50OmNsb3NlVm90YXRpb24nLCAoKSA9PiB7XHJcbiAgICAgICAgLyphdXRoID0gW107XHJcbiAgICAgICAgbGlrZSA9IDA7XHJcbiAgICAgICAgdW5MaWtlID0gMDtcclxuICAgICAgICBhYnMgPTA7Ki9cclxuICAgICAgICBvbmxpbmUgPSAwO1xyXG4gICAgICAgIHJlc3RhcnQoKTtcclxuICAgICAgICBzZW5kRGF0YSgpO1xyXG4gICAgICAgIGlvLmVtaXQoJ29ubGluZScsIG9ubGluZSk7XHJcbiAgICAgICAgaW8uZW1pdCgnc2VydmVyOnZvdGF0aW9uQ2xvc2VkJyk7XHJcbiAgICAgICAgc29ja2V0LmRpc2Nvbm5lY3QoKVxyXG4gICAgfSlcclxuXHJcbiAgICAvL1BhcmEgbG9zIGNvbnRhZG9yZXMgZGUgdm90b3NcclxuICAgIHNlbmREYXRhKClcclxuICAgLyogaW8uZW1pdCgnc2VydmVyOmxpa2UnLCBsaWtlKTtcclxuICAgIGlvLmVtaXQoJ3NlcnZlcjp1bkxpa2UnLCB1bkxpa2UpO1xyXG4gICAgaW8uZW1pdCgnc2VydmVyOmFicycsIGFicyk7Ki9cclxuXHJcbn0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy9ZYSBubyBzZSBzZXJ2aXLDoSBlbCBjb250ZW5pZG8gY29uIGFwcCBwb3JxdWUgZXNlIGVzIHNvbG8gcGFyYSBleHByZXNzLlxyXG4vKmFwcC5saXN0ZW4gKDgwMDAsICgpPT4gY29uc29sZS5sb2cgKGBTZXJ2ZXIgaXMgcnVubm5pbmcgb24gcG9ydGAsIDgwMDApKSovXHJcbmh0dHBTZXJ2ZXIubGlzdGVuKDgwMDAsICgpID0+IGNvbnNvbGUubG9nKFwiU2VydmVyIGlzIHJ1bm5pbmcgb24gcG9ydDpcIiwgODAwMCkpXHJcblxyXG4iXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFKQTtBQUVxRDtBQUlyRDtBQUNBLElBQU1BLEdBQUcsR0FBRyxJQUFBQyxtQkFBQSxHQUFaOztBQUNBLElBQU1DLFVBQVUsR0FBR0MsZ0JBQUEsQ0FBS0MsWUFBTCxDQUFrQkosR0FBbEIsQ0FBbkIsQyxDQUEyQztBQUMzQzs7O0FBQ0EsSUFBTUssRUFBRSxHQUFHLElBQUlDLGNBQUos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","map":{"version":3,"names":["app","express","httpServer","http","createServer","io","WebSocketServer","like","unLike","abs","auth","use","__dirname","online","restart","sendData","emit","on","socket","id","uuid","push","console","log","question","includes","i","length","splice","disconnect","listen"],"sourceRoot":"C:\\Users\\MELCHISEDEC\\Desktop\\FEUH\\src\\","sources":["index.js"],"sourcesContent":["//Imports\r\nimport express from 'express';\r\nimport {Server as WebSocketServer} from 'socket.io'; //Se le coloca un alias para no confundirlo con el módulo Express\r\nimport http from 'http';\r\nimport {v4 as uuid} from 'uuid';\r\n\r\n//Constantes\r\nconst app = express();\r\nconst httpServer = http.createServer(app); //Lo instanciamos y no le pasamos el server app, se llama el módulo http de node\r\n//pero express nos devuelve un object aplication, no un módulo http.\r\nconst io = new WebSocketServer(httpServer); //Se le pasa al webSocket para crear una conexión io.\r\n\r\n//Variables\r\nvar like = 0;\r\nvar unLike = 0;\r\nvar abs = 0;\r\nvar auth = []\r\n\r\n//Método static para dar la carpeta public al cliente\r\napp.use (express.static(__dirname + '/public'));\r\napp.use ('/abc', express.static(__dirname + '/admin'));\r\n\r\n//Variables\r\nvar online = 0;\r\n\r\n//funciones\r\nfunction restart () {\r\n    auth = [];\r\n    like = 0;\r\n    unLike = 0;\r\n    abs =0;\r\n    online = 0;\r\n}\r\n\r\nfunction sendData () {\r\n    io.emit('server:like', like);\r\n    io.emit('server:unLike', unLike);\r\n    io.emit('server:abs', abs);\r\n}\r\n\r\n//Para ejecutarlo:\r\nio.on('connection', (socket) => {\r\n    /*Almacenamiento del LocalStorage e ID*/\r\n    socket.on('client:reqLocalS', () => {\r\n        let id = uuid();\r\n        io.emit('server:resLocalS', id)\r\n        online++;\r\n        io.emit('online', online)\r\n        auth.push(id);\r\n        console.log (auth)\r\n    })\r\n\r\n    //Muestra la cantidad de miembros activos\r\n    io.emit('online', online)\r\n\r\n    //Formular pregunta\r\n    socket.on('client:question', (question)=> {\r\n        io.emit('server:question', question)\r\n    });\r\n\r\n    //Listener de usuarios que están de acuerdo\r\n    socket.on ('client:like', (id) => {\r\n        if (auth.includes(id)) {\r\n            like++\r\n            io.emit('server:like', like);\r\n            for (let i = 0; i<auth.length; i++){\r\n                if (id === auth[i]) {\r\n                    auth.splice(i, 1);\r\n                }\r\n            }\r\n        } else {\r\n            io.emit('error', id);\r\n        }\r\n    })\r\n    //Listener de usuarios que no están de acuerdo\r\n    socket.on ('client:unLike', (id) => {\r\n        if (auth.includes(id)) {\r\n            unLike++;\r\n            io.emit('server:unLike', unLike);\r\n            for (let i = 0; i<auth.length; i++){\r\n                if (id === auth[i]) {\r\n                    auth.splice(i, 1);\r\n                }\r\n            }\r\n        } else {\r\n            io.emit('error', id);\r\n        }\r\n    })\r\n\r\n    //Listener de usuarios que se abstienen\r\n    socket.on ('client:abs', (id) => {\r\n        if (auth.includes(id)) {\r\n            abs++;\r\n            io.emit('server:abs', abs);\r\n            for (let i = 0; i<auth.length; i++){\r\n                if (id === auth[i]) {\r\n                    auth.splice(i, 1);\r\n                }\r\n            }\r\n        } else {\r\n            io.emit('error', id);\r\n        }\r\n    })\r\n\r\n    socket.on ('client:closeVotation', () => {\r\n        /*auth = [];\r\n        like = 0;\r\n        unLike = 0;\r\n        abs =0;*/\r\n        online = 0;\r\n        restart();\r\n        sendData();\r\n        io.emit('online', online);\r\n        io.emit('server:votationClosed');\r\n        socket.disconnect()\r\n    })\r\n\r\n    //Para los contadores de votos\r\n    sendData()\r\n   /* io.emit('server:like', like);\r\n    io.emit('server:unLike', unLike);\r\n    io.emit('server:abs', abs);*/\r\n\r\n})\r\n\r\n\r\n\r\n\r\n\r\n//Ya no se servirá el contenido con app porque ese es solo para express.\r\n/*app.listen (8000, ()=> console.log (`Server is runnning on port`, 8000))*/\r\nhttpServer.listen(8000, () => console.log(\"Server is running on port:\", 8000))\r\n\r\n"],"mappings":"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"}},"mtime":1661569618406},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\MELCHISEDEC\\\\Desktop\\\\FEUHv1.1\\\\FEUH\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\MELCHISEDEC\\\\Desktop\\\\FEUHv1.1\\\\FEUH\",\"filename\":\"C:\\\\Users\\\\MELCHISEDEC\\\\Desktop\\\\FEUHv1.1\\\\FEUH\\\\src\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\MELCHISEDEC\\\\Desktop\\\\FEUHv1.1\\\\FEUH\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _socket = require(\"socket.io\");\n\nvar _http = _interopRequireDefault(require(\"http\"));\n\nvar _uuid = require(\"uuid\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n//Imports\n//Se le coloca un alias para no confundirlo con el módulo Express\n//Constantes\nvar app = (0, _express[\"default\"])();\n\nvar httpServer = _http[\"default\"].createServer(app); //Lo instanciamos y no le pasamos el server app, se llama el módulo http de node\n//pero express nos devuelve un object aplication, no un módulo http.\n\n\nvar io = new _socket.Server(httpServer); //Se le pasa al webSocket para crear una conexión io.\n//Variables\n\nvar like = 0; //Contador de likes\n\nvar unLike = 0; //Unlikes\n\nvar abs = 0; //Votos abstenidos\n\nvar auth = []; //Sesiones autenticadas\n//Método static para dar la carpeta public al cliente\n\napp.use(_express[\"default\"][\"static\"](__dirname + '/public'));\napp.use('/admin', _express[\"default\"][\"static\"](__dirname + '/admin')); //Variables\n\nvar online = 0; //Contador de sesiones activas\n//funciones\n\n/*Reinicia las votaciones*/\n\nfunction restart() {\n  auth = [];\n  like = 0;\n  unLike = 0;\n  abs = 0;\n  online = 0;\n}\n/*Envía los datos*/\n\n\nfunction sendData() {\n  io.emit('server:like', like);\n  io.emit('server:unLike', unLike);\n  io.emit('server:abs', abs);\n} //Para ejecutarlo:\n\n\nio.on('connection', function (socket) {\n  /*Almacenamiento del LocalStorage e ID*/\n  socket.on('client:reqLocalS', function () {\n    var id = (0, _uuid.v4)();\n    io.emit('server:resLocalS', id);\n    online++;\n    io.emit('online', online);\n    auth.push(id);\n    console.log(auth);\n  }); //Muestra la cantidad de miembros activos\n\n  io.emit('online', online); //Formular pregunta\n\n  socket.on('client:question', function (question) {\n    io.emit('server:question', question);\n  }); //Listener de usuarios que están de acuerdo\n\n  socket.on('client:like', function (id) {\n    if (auth.includes(id)) {\n      like++;\n      io.emit('server:like', like);\n\n      for (var i = 0; i < auth.length; i++) {\n        if (id === auth[i]) {\n          auth.splice(i, 1);\n        }\n      }\n    } else {\n      io.emit('error', id);\n    }\n  }); //Listener de usuarios que no están de acuerdo\n\n  socket.on('client:unLike', function (id) {\n    if (auth.includes(id)) {\n      unLike++;\n      io.emit('server:unLike', unLike);\n\n      for (var i = 0; i < auth.length; i++) {\n        if (id === auth[i]) {\n          auth.splice(i, 1);\n        }\n      }\n    } else {\n      io.emit('error', id);\n    }\n  }); //Listener de usuarios que se abstienen\n\n  socket.on('client:abs', function (id) {\n    if (auth.includes(id)) {\n      abs++;\n      io.emit('server:abs', abs);\n\n      for (var i = 0; i < auth.length; i++) {\n        if (id === auth[i]) {\n          auth.splice(i, 1);\n        }\n      }\n    } else {\n      io.emit('error', id);\n    }\n  });\n  socket.on('client:closeVotation', function () {\n    /*auth = [];\r\n    like = 0;\r\n    unLike = 0;\r\n    abs =0;*/\n    restart();\n    sendData();\n    io.emit('online', online);\n    io.emit('server:votationClosed');\n    socket.disconnect();\n  }); //Para los contadores de votos\n\n  sendData();\n  /* io.emit('server:like', like);\r\n   io.emit('server:unLike', unLike);\r\n   io.emit('server:abs', abs);*/\n}); //Ya no se servirá el contenido con app porque ese es solo para express.\n\n/*app.listen (8000, ()=> console.log (`Server is runnning on port`, 8000))*/\n\nhttpServer.listen(9000, function () {\n  return console.log(\"Server is running on port:\", 9000);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHAiLCJleHByZXNzIiwiaHR0cFNlcnZlciIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJpbyIsIldlYlNvY2tldFNlcnZlciIsImxpa2UiLCJ1bkxpa2UiLCJhYnMiLCJhdXRoIiwidXNlIiwiX19kaXJuYW1lIiwib25saW5lIiwicmVzdGFydCIsInNlbmREYXRhIiwiZW1pdCIsIm9uIiwic29ja2V0IiwiaWQiLCJ1dWlkIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJxdWVzdGlvbiIsImluY2x1ZGVzIiwiaSIsImxlbmd0aCIsInNwbGljZSIsImRpc2Nvbm5lY3QiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcTUVMQ0hJU0VERUNcXERlc2t0b3BcXEZFVUh2MS4xXFxGRVVIXFxzcmNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy9JbXBvcnRzXHJcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQge1NlcnZlciBhcyBXZWJTb2NrZXRTZXJ2ZXJ9IGZyb20gJ3NvY2tldC5pbyc7IC8vU2UgbGUgY29sb2NhIHVuIGFsaWFzIHBhcmEgbm8gY29uZnVuZGlybG8gY29uIGVsIG3Ds2R1bG8gRXhwcmVzc1xyXG5pbXBvcnQgaHR0cCBmcm9tICdodHRwJztcclxuaW1wb3J0IHt2NCBhcyB1dWlkfSBmcm9tICd1dWlkJztcclxuXHJcbi8vQ29uc3RhbnRlc1xyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmNvbnN0IGh0dHBTZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApOyAvL0xvIGluc3RhbmNpYW1vcyB5IG5vIGxlIHBhc2Ftb3MgZWwgc2VydmVyIGFwcCwgc2UgbGxhbWEgZWwgbcOzZHVsbyBodHRwIGRlIG5vZGVcclxuLy9wZXJvIGV4cHJlc3Mgbm9zIGRldnVlbHZlIHVuIG9iamVjdCBhcGxpY2F0aW9uLCBubyB1biBtw7NkdWxvIGh0dHAuXHJcbmNvbnN0IGlvID0gbmV3IFdlYlNvY2tldFNlcnZlcihodHRwU2VydmVyKTsgLy9TZSBsZSBwYXNhIGFsIHdlYlNvY2tldCBwYXJhIGNyZWFyIHVuYSBjb25leGnDs24gaW8uXHJcblxyXG4vL1ZhcmlhYmxlc1xyXG52YXIgbGlrZSA9IDA7IC8vQ29udGFkb3IgZGUgbGlrZXNcclxudmFyIHVuTGlrZSA9IDA7IC8vVW5saWtlc1xyXG52YXIgYWJzID0gMDsgLy9Wb3RvcyBhYnN0ZW5pZG9zXHJcbnZhciBhdXRoID0gW10gLy9TZXNpb25lcyBhdXRlbnRpY2FkYXNcclxuXHJcbi8vTcOpdG9kbyBzdGF0aWMgcGFyYSBkYXIgbGEgY2FycGV0YSBwdWJsaWMgYWwgY2xpZW50ZVxyXG5hcHAudXNlIChleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUgKyAnL3B1YmxpYycpKTtcclxuYXBwLnVzZSAoJy9hZG1pbicsIGV4cHJlc3Muc3RhdGljKF9fZGlybmFtZSArICcvYWRtaW4nKSk7XHJcblxyXG4vL1ZhcmlhYmxlc1xyXG52YXIgb25saW5lID0gMDsgLy9Db250YWRvciBkZSBzZXNpb25lcyBhY3RpdmFzXHJcblxyXG4vL2Z1bmNpb25lc1xyXG4vKlJlaW5pY2lhIGxhcyB2b3RhY2lvbmVzKi9cclxuZnVuY3Rpb24gcmVzdGFydCAoKSB7XHJcbiAgICBhdXRoID0gW107XHJcbiAgICBsaWtlID0gMDtcclxuICAgIHVuTGlrZSA9IDA7XHJcbiAgICBhYnMgPTA7XHJcbiAgICBvbmxpbmUgPSAwO1xyXG59XHJcblxyXG4vKkVudsOtYSBsb3MgZGF0b3MqL1xyXG5mdW5jdGlvbiBzZW5kRGF0YSAoKSB7XHJcbiAgICBpby5lbWl0KCdzZXJ2ZXI6bGlrZScsIGxpa2UpO1xyXG4gICAgaW8uZW1pdCgnc2VydmVyOnVuTGlrZScsIHVuTGlrZSk7XHJcbiAgICBpby5lbWl0KCdzZXJ2ZXI6YWJzJywgYWJzKTtcclxufVxyXG5cclxuLy9QYXJhIGVqZWN1dGFybG86XHJcbmlvLm9uKCdjb25uZWN0aW9uJywgKHNvY2tldCkgPT4ge1xyXG4gICAgLypBbG1hY2VuYW1pZW50byBkZWwgTG9jYWxTdG9yYWdlIGUgSUQqL1xyXG4gICAgc29ja2V0Lm9uKCdjbGllbnQ6cmVxTG9jYWxTJywgKCkgPT4ge1xyXG4gICAgICAgIGxldCBpZCA9IHV1aWQoKTtcclxuICAgICAgICBpby5lbWl0KCdzZXJ2ZXI6cmVzTG9jYWxTJywgaWQpXHJcbiAgICAgICAgb25saW5lKys7XHJcbiAgICAgICAgaW8uZW1pdCgnb25saW5lJywgb25saW5lKVxyXG4gICAgICAgIGF1dGgucHVzaChpZCk7XHJcbiAgICAgICAgY29uc29sZS5sb2cgKGF1dGgpXHJcbiAgICB9KTtcclxuXHJcbiAgICAvL011ZXN0cmEgbGEgY2FudGlkYWQgZGUgbWllbWJyb3MgYWN0aXZvc1xyXG4gICAgaW8uZW1pdCgnb25saW5lJywgb25saW5lKVxyXG5cclxuICAgIC8vRm9ybXVsYXIgcHJlZ3VudGFcclxuICAgIHNvY2tldC5vbignY2xpZW50OnF1ZXN0aW9uJywgKHF1ZXN0aW9uKT0+IHtcclxuICAgICAgICBpby5lbWl0KCdzZXJ2ZXI6cXVlc3Rpb24nLCBxdWVzdGlvbilcclxuICAgIH0pO1xyXG5cclxuICAgIC8vTGlzdGVuZXIgZGUgdXN1YXJpb3MgcXVlIGVzdMOhbiBkZSBhY3VlcmRvXHJcbiAgICBzb2NrZXQub24gKCdjbGllbnQ6bGlrZScsIChpZCkgPT4ge1xyXG4gICAgICAgIGlmIChhdXRoLmluY2x1ZGVzKGlkKSkge1xyXG4gICAgICAgICAgICBsaWtlKytcclxuICAgICAgICAgICAgaW8uZW1pdCgnc2VydmVyOmxpa2UnLCBsaWtlKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGk8YXV0aC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWQgPT09IGF1dGhbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRoLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlvLmVtaXQoJ2Vycm9yJywgaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICAvL0xpc3RlbmVyIGRlIHVzdWFyaW9zIHF1ZSBubyBlc3TDoW4gZGUgYWN1ZXJkb1xyXG4gICAgc29ja2V0Lm9uICgnY2xpZW50OnVuTGlrZScsIChpZCkgPT4ge1xyXG4gICAgICAgIGlmIChhdXRoLmluY2x1ZGVzKGlkKSkge1xyXG4gICAgICAgICAgICB1bkxpa2UrKztcclxuICAgICAgICAgICAgaW8uZW1pdCgnc2VydmVyOnVuTGlrZScsIHVuTGlrZSk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpPGF1dGgubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgaWYgKGlkID09PSBhdXRoW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aC5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpby5lbWl0KCdlcnJvcicsIGlkKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vTGlzdGVuZXIgZGUgdXN1YXJpb3MgcXVlIHNlIGFic3RpZW5lblxyXG4gICAgc29ja2V0Lm9uICgnY2xpZW50OmFicycsIChpZCkgPT4ge1xyXG4gICAgICAgIGlmIChhdXRoLmluY2x1ZGVzKGlkKSkge1xyXG4gICAgICAgICAgICBhYnMrKztcclxuICAgICAgICAgICAgaW8uZW1pdCgnc2VydmVyOmFicycsIGFicyk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpPGF1dGgubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgaWYgKGlkID09PSBhdXRoW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aC5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpby5lbWl0KCdlcnJvcicsIGlkKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHNvY2tldC5vbiAoJ2NsaWVudDpjbG9zZVZvdGF0aW9uJywgKCkgPT4ge1xyXG4gICAgICAgIC8qYXV0aCA9IFtdO1xyXG4gICAgICAgIGxpa2UgPSAwO1xyXG4gICAgICAgIHVuTGlrZSA9IDA7XHJcbiAgICAgICAgYWJzID0wOyovXHJcbiAgICAgICAgcmVzdGFydCgpO1xyXG4gICAgICAgIHNlbmREYXRhKCk7XHJcbiAgICAgICAgaW8uZW1pdCgnb25saW5lJywgb25saW5lKTtcclxuICAgICAgICBpby5lbWl0KCdzZXJ2ZXI6dm90YXRpb25DbG9zZWQnKTtcclxuICAgICAgICBzb2NrZXQuZGlzY29ubmVjdCgpXHJcbiAgICB9KVxyXG5cclxuICAgIC8vUGFyYSBsb3MgY29udGFkb3JlcyBkZSB2b3Rvc1xyXG4gICAgc2VuZERhdGEoKVxyXG4gICAvKiBpby5lbWl0KCdzZXJ2ZXI6bGlrZScsIGxpa2UpO1xyXG4gICAgaW8uZW1pdCgnc2VydmVyOnVuTGlrZScsIHVuTGlrZSk7XHJcbiAgICBpby5lbWl0KCdzZXJ2ZXI6YWJzJywgYWJzKTsqL1xyXG5cclxufSlcclxuXHJcblxyXG5cclxuXHJcblxyXG4vL1lhIG5vIHNlIHNlcnZpcsOhIGVsIGNvbnRlbmlkbyBjb24gYXBwIHBvcnF1ZSBlc2UgZXMgc29sbyBwYXJhIGV4cHJlc3MuXHJcbi8qYXBwLmxpc3RlbiAoODAwMCwgKCk9PiBjb25zb2xlLmxvZyAoYFNlcnZlciBpcyBydW5ubmluZyBvbiBwb3J0YCwgODAwMCkpKi9cclxuaHR0cFNlcnZlci5saXN0ZW4oOTAwMCwgKCkgPT4gY29uc29sZS5sb2coXCJTZXJ2ZXIgaXMgcnVubmluZyBvbiBwb3J0OlwiLCA5MDAwKSlcclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUpBO0FBRXFEO0FB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","map":{"version":3,"names":["app","express","httpServer","http","createServer","io","WebSocketServer","like","unLike","abs","auth","use","__dirname","online","restart","sendData","emit","on","socket","id","uuid","push","console","log","question","includes","i","length","splice","disconnect","listen"],"sourceRoot":"C:\\Users\\MELCHISEDEC\\Desktop\\FEUHv1.1\\FEUH\\src\\","sources":["index.js"],"sourcesContent":["//Imports\r\nimport express from 'express';\r\nimport {Server as WebSocketServer} from 'socket.io'; //Se le coloca un alias para no confundirlo con el módulo Express\r\nimport http from 'http';\r\nimport {v4 as uuid} from 'uuid';\r\n\r\n//Constantes\r\nconst app = express();\r\nconst httpServer = http.createServer(app); //Lo instanciamos y no le pasamos el server app, se llama el módulo http de node\r\n//pero express nos devuelve un object aplication, no un módulo http.\r\nconst io = new WebSocketServer(httpServer); //Se le pasa al webSocket para crear una conexión io.\r\n\r\n//Variables\r\nvar like = 0; //Contador de likes\r\nvar unLike = 0; //Unlikes\r\nvar abs = 0; //Votos abstenidos\r\nvar auth = [] //Sesiones autenticadas\r\n\r\n//Método static para dar la carpeta public al cliente\r\napp.use (express.static(__dirname + '/public'));\r\napp.use ('/admin', express.static(__dirname + '/admin'));\r\n\r\n//Variables\r\nvar online = 0; //Contador de sesiones activas\r\n\r\n//funciones\r\n/*Reinicia las votaciones*/\r\nfunction restart () {\r\n    auth = [];\r\n    like = 0;\r\n    unLike = 0;\r\n    abs =0;\r\n    online = 0;\r\n}\r\n\r\n/*Envía los datos*/\r\nfunction sendData () {\r\n    io.emit('server:like', like);\r\n    io.emit('server:unLike', unLike);\r\n    io.emit('server:abs', abs);\r\n}\r\n\r\n//Para ejecutarlo:\r\nio.on('connection', (socket) => {\r\n    /*Almacenamiento del LocalStorage e ID*/\r\n    socket.on('client:reqLocalS', () => {\r\n        let id = uuid();\r\n        io.emit('server:resLocalS', id)\r\n        online++;\r\n        io.emit('online', online)\r\n        auth.push(id);\r\n        console.log (auth)\r\n    });\r\n\r\n    //Muestra la cantidad de miembros activos\r\n    io.emit('online', online)\r\n\r\n    //Formular pregunta\r\n    socket.on('client:question', (question)=> {\r\n        io.emit('server:question', question)\r\n    });\r\n\r\n    //Listener de usuarios que están de acuerdo\r\n    socket.on ('client:like', (id) => {\r\n        if (auth.includes(id)) {\r\n            like++\r\n            io.emit('server:like', like);\r\n            for (let i = 0; i<auth.length; i++){\r\n                if (id === auth[i]) {\r\n                    auth.splice(i, 1);\r\n                }\r\n            }\r\n        } else {\r\n            io.emit('error', id);\r\n        }\r\n    })\r\n    //Listener de usuarios que no están de acuerdo\r\n    socket.on ('client:unLike', (id) => {\r\n        if (auth.includes(id)) {\r\n            unLike++;\r\n            io.emit('server:unLike', unLike);\r\n            for (let i = 0; i<auth.length; i++){\r\n                if (id === auth[i]) {\r\n                    auth.splice(i, 1);\r\n                }\r\n            }\r\n        } else {\r\n            io.emit('error', id);\r\n        }\r\n    })\r\n\r\n    //Listener de usuarios que se abstienen\r\n    socket.on ('client:abs', (id) => {\r\n        if (auth.includes(id)) {\r\n            abs++;\r\n            io.emit('server:abs', abs);\r\n            for (let i = 0; i<auth.length; i++){\r\n                if (id === auth[i]) {\r\n                    auth.splice(i, 1);\r\n                }\r\n            }\r\n        } else {\r\n            io.emit('error', id);\r\n        }\r\n    })\r\n\r\n    socket.on ('client:closeVotation', () => {\r\n        /*auth = [];\r\n        like = 0;\r\n        unLike = 0;\r\n        abs =0;*/\r\n        restart();\r\n        sendData();\r\n        io.emit('online', online);\r\n        io.emit('server:votationClosed');\r\n        socket.disconnect()\r\n    })\r\n\r\n    //Para los contadores de votos\r\n    sendData()\r\n   /* io.emit('server:like', like);\r\n    io.emit('server:unLike', unLike);\r\n    io.emit('server:abs', abs);*/\r\n\r\n})\r\n\r\n\r\n\r\n\r\n\r\n//Ya no se servirá el contenido con app porque ese es solo para express.\r\n/*app.listen (8000, ()=> console.log (`Server is runnning on port`, 8000))*/\r\nhttpServer.listen(9000, () => console.log(\"Server is running on port:\", 9000))\r\n\r\n"],"mappings":"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"}},"mtime":1662249046558}}